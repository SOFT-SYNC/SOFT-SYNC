<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
<!-- <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet"> -->
<title>Bootstrap Example</title>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link type="text/css" rel="stylesheet" href="css/header.css">
<link type="text/css" rel="stylesheet" href="css/common.css">
<link type="text/css" rel="stylesheet" href="css/sidebar.css">
<link type="text/css" rel="stylesheet" href="css/invoice.css">
</head>
<body>
	<div th:insert="~{sidebar :: sidebar}"></div>
	<div class="main-content">
		<div th:insert="~{header :: header}"></div>
		<div id="row1">
			<h2 class="visual-title">구매 발주서</h2>
			<!-- (상단)구매발주서  테이블-->
			<div id="toptb">
				<button type="submit" class="blueBtn">마감</button>
				<table>
					<colgroup>
						<col width="10%">
						<col width="40%">
						<col width="10%">
						<col width="40%">
					</colgroup>
					<thead>
						<tr>
							<th>발주번호</th>
							<td>발주번호 출력</td>
							<th>등록번호</th>
							<td>등록번호 출력</td>
						</tr>
						<tr>
							<th>발신처</th>
							<td>발신처 출력</td>
							<th>수신처</th>
							<td>수신처 출력</td>
						</tr>
						<tr>
							<th>연락처</th>
							<td>연락처 출력</td>
							<th>대표자명</th>
							<td>대표자명 출력</td>
						</tr>
						<tr>
							<th>발주일</th>
							<td>발주일 출력</td>
							<th>주소</th>
							<td>주소 출력</td>
						</tr>
						<tr>
							<th>납기일</th>
							<td>납기일 출력</td>
							<th>담당자</th>
							<td>담당자 출력</td>
						</tr>
						<tr>
							<th>지불조건</th>
							<td>지불조건 출력</td>
							<th>연락처</th>
							<td>연락처 출력</td>
						</tr>
					</thead>
				</table>
				<table>
					<thead>
						<tr>
							<th>번호</th>
							<th>품명</th>
							<th>규격</th>
							<th>단위</th>
							<th>수량</th>
							<th>단가</th>
							<th>공급가액</th>
							<th>비고</th>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
					</thead>
				</table>
				<h3 class="visual-title">진척검수</h3>
				<table class="inspecPlanList">
					<tr>
						<th>차수</th>
						<th>검수예정일</th>
						<th>검수일</th>
						<th>발주량</th>
						<th>생산량</th>
						<th>진행률</th>
						<th>비고</th>
						<th>진행</th>
					</tr>
				</table>
			</div>
		</div>
		<div id="row2">
			<!-- (하단)진척검수처리scope -->
			<h2 class="visual-title">진척검수 일정 등록</h2>
			<table class="inspecPlanRegi">
				<tr>
					<th>차수</th>
					<th>검수예정일</th>
					<th>검수일</th>
					<th>생산량</th>
					<th>등록 취소</th>
				</tr>
				<tr>
					<td><input type="text" id="times" readonly disabled></td>
					<td><input type="text" id="duedate"></td>
					<td><input type="text" id="finishDate"></td>
					<td><input type="text" id="quantity"></td>
					<td>
						<button type="button" onclick="register()" class="blueBtn">등록</button>
					</td>
				</tr>
			</table>
		</div>
	</div>
	<script>
		// Set initial value for 차수
		var 차수 = 1;

		function register() {
			// Get input values
			var 검수예정일 = document.getElementById("input검수예정일").value;
			var 검수일 = document.getElementById("input검수일").value;
			var 생산량 = document.getElementById("input생산량").value;
			var 비고 = "비고 바당오기"; // 임의의 비고 생성
			var 진행률 = "계산식";

			// Create a new row
			var table = document.getElementById("createtb");
			var newRow = table.insertRow(-1); // -1 to append at the end
			var cell1 = newRow.insertCell(0);
			var cell2 = newRow.insertCell(1);
			var cell3 = newRow.insertCell(2);
			var cell4 = newRow.insertCell(3);
			var cell5 = newRow.insertCell(4);
			var cell6 = newRow.insertCell(5);
			var cell7 = newRow.insertCell(6);
			var cell8 = newRow.insertCell(7);

			// Add input values to the cells
			cell1.innerHTML = 차수;
			cell2.innerHTML = 검수예정일;
			cell3.innerHTML = 검수일;
			cell4.innerHTML = "발주량 받아오기";
			cell5.innerHTML = 생산량;
			cell6.innerHTML = 진행률;
			cell7.innerHTML = 비고;
			cell8.innerHTML = '<button type="button">삭제</button>';

			// Increase 차수 for the next registration
			차수++;
			document.getElementById("input차수").value = 차수;
		}
	</script>
	<script>
		function toggleSidenav() {
			const sidenav = document.querySelector('.sidenav');
			const mainContent = document.querySelector('.main-content');
			const sidenavToggle = document.querySelector('.sidenav-toggle');

			if (sidenav.style.left === '0px') {
				sidenav.style.left = '-200px'; // 사이드바 숨기기
				mainContent.style.marginLeft = '0'; // 메인 콘텐츠 원래 위치로
				sidenavToggle.style.left = '5px'; // 토글 버튼 원래 위치로
			} else {
				sidenav.style.left = '0'; // 사이드바 보이기
				mainContent.style.marginLeft = '200px'; // 메인 콘텐츠를 오른쪽으로 밀어냄
				sidenavToggle.style.left = '205px'; // 토글 버튼 오른쪽으로 이동
			}
		}

		document
				.addEventListener(
						'DOMContentLoaded',
						function() {
							// 드롭다운 버튼을 모두 선택합니다.
							var dropdowns = document
									.querySelectorAll('.dropdown-btn');

							// 각 버튼에 클릭 이벤트 리스너를 추가합니다.
							dropdowns
									.forEach(function(btn) {
										btn
												.addEventListener(
														'click',
														function() {
															// 모든 드롭다운 컨테이너를 닫습니다.
															closeAllDropdowns();

															// 현재 클릭된 버튼의 다음 요소(드롭다운 컨테이너)의 표시 상태를 토글합니다.
															var dropdownContainer = this.nextElementSibling;
															dropdownContainer.style.display = dropdownContainer.style.display === 'block' ? 'none'
																	: 'block';

															// 클릭된 버튼에 'active' 클래스를 추가합니다.
															this.classList
																	.toggle('active');
														});
									});

							// 모든 드롭다운을 닫는 함수
							function closeAllDropdowns() {
								var dropdownContainers = document
										.querySelectorAll('.dropdown-container');
								dropdownContainers.forEach(function(container) {
									container.style.display = 'none';
								});

								// 모든 드롭다운 버튼에서 'active' 클래스를 제거합니다.
								dropdowns.forEach(function(btn) {
									btn.classList.remove('active');
								});
							}
						});
	</script>
</body>
</html>