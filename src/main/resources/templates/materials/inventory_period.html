<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>기간별 재고목록</title>
<link type="text/css" rel="stylesheet" href="../css/common/header.css">
<link type="text/css" rel="stylesheet" href="../css/common/common.css">
<link type="text/css" rel="stylesheet" href="../css/common/sidebar.css">
<link type="text/css" rel="stylesheet" href="../css/invoice.css">
<script type="text/javascript" src="../js/sidebar.js"></script>
</head>
<body>
	<div th:insert="~{common/sidebar  :: sidebar}"></div>
	<div class="main-content">
		<div th:insert="~{common/header :: header}"></div>
		<div id="row1">
			<h1 class="visual-title">기간별 재고목록</h1>
			<div class="search-container">
				<form id="searchForm" th:action="@{/inventory_period}" method="get">
					<div class="search-bar">
						<label for="startDate">시작 날짜:</label> <input type="date"
							id="startDate" name="startDate" required> <label
							for="endDate">종료 날짜:</label> <input type="date" id="endDate"
							name="endDate" required>
						<button type="submit" class="blueBtn">검색</button>
					</div>
				</form>
				<table id="resultsTable">
					<thead>
						<tr>
							<th>품목코드</th>
							<th>품목명</th>
							<th>기초재고</th>
							<th>입고수량</th>
							<th>출고수량</th>
							<th>기말재고</th>
							<th>재고금액</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="inventoryPeriod : ${inventoryPeriods}">
							<td th:text="${inventoryPeriod.inventoryCode}"></td>
							<td th:text="${inventoryPeriod.inventoryName}"></td>
							<td
								th:text="${inventoryPeriod.initialInventory != null ? inventoryPeriod.initialInventory : 0}"></td>
							<!-- 기초재고 -->
							<td
								th:text="${inventoryPeriod.totalReceivingQuantity != null ? inventoryPeriod.totalReceivingQuantity : 0}"></td>
							<td
								th:text="${inventoryPeriod.totalShipmentQuantity != null ? inventoryPeriod.totalShipmentQuantity : 0}"></td>
							<td
								th:text="${inventoryPeriod.finalInventory != null ? inventoryPeriod.finalInventory : 0}"></td>
							<!-- 기말재고 -->
							<td
								th:text="${inventoryPeriod.finalInventoryValue != null ? inventoryPeriod.finalInventoryValue : 0}"></td>
							<!-- 기말재고금액 -->
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript">
	function performSearch() {
		const startDate = document.getElementById('startDate').value;
		const endDate = document.getElementById('endDate').value;
		const searchInput = document.getElementById('searchInput').value;
		const filterSelect = document.getElementById('filterSelect').value;

		const url = `/inventory_period?startDate=${startDate}&endDate=${endDate}`;
		window.location.href = url;
	}
</script>
</html>